import asyncio
import random
from pyrogram import filters
from pyrogram.types import Message
from ShrutiMusic import app
from ShrutiMusic.utils.permissions import adminsOnly
# Global dictionary to track active chats for all tagging types
active_chats = {}

# Shayri messages
SHAYRI_MESSAGES = [
    "тЮа <b>рдореБрд╕реНрдХреБрд░рд╛рд╣рдЯ рднреА рдореБрд╕реНрдХрд░рд╛рддреА рд╣реИ\nрдЬрдм рд╡реЛ рдЖрдкрдХреЗ рд╣реЛрдареЛрдВ рд╕реЗ, рд╣реЛрдХрд░ рдЖрддреА рд╣реИ !!</b>\n\n{mention}",
    "тЮа <b>рдЬреЛ рдирд╢рд╛ рдЙрд╕рдХреА рдЖрдБрдЦреЛ рдореЗрдВ рд╣реИрдВ,\nрд╡реЛ рдХрд┐рд╕реА рдФрд░ рдХреА рдмрд╛рд╣реЛрдВ рдореЗрдВ рдХрд╣рд╛рдВ..!!</b>\n\n{mention}",
    "тЮа <b>рдПрдХ рддреЗрд░рд╛ рдирд╛рдо рд░рд╣реЗ рдЬреБрдмрд╛рдВ рдкрд░\nрдЬреИрд╕реЗ рдЪрд╛рдБрдж рд░рд╣рддрд╛ рд╣реИ рдЖрд╕рдорд╛ рдкрд░</b>\n\n{mention}",
    "тЮа <b>рддреБрдореНрд╣рд╛рд░реА рдореБрд╕реНрдХрд╛рди рдХрд┐рд╕реА рддрд▓рд╡рд╛рд░ рд╕реЗ рдХрдо рдирд╣реАрдВ,\nрдХреЛрдИ рдмреИрд░ рд░рдЦреЗ рддреБрдорд╕реЗ\nрдХрд┐рд╕реА рдореЗрдВ рджрдо рдирд╣реАрдВред</b>\n\n{mention}",
    "тЮа <b>рдореЗрд░реА рд░реВрд╣ рдХреА рдЖрд╡рд╛рдЬрд╝ рд╣реЛ рддреБрдо,\nрдХрд╣рд╛ рдирд╛ рдмрд╣реБрдд рдЦрд╛рд╕ рд╣реЛ рддреБрдо..!!</b>\n\n{mention}",
    "тЮа <b>рдХреЛрдИ рддреЛ рдХрд░рддрд╛ рд╣реЛрдЧрд╛ рд╣рдорд╕реЗ рдЦрд╛рдореЛрд╢ рдореЛрд╣рдмреНрдмрдд\nрд╣рдо рднреА рдХрд┐рд╕реА рдХреА рдЕрдзреВрд░реА рдореЛрд╣рдмреНрдмрдд рд░рд╣реЗ рд╣реЛрдВрдЧреЗ !!</b>\n\n{mention}",
    "тЮа <b>рддреБрдореНрд╣рд╛рд░реА рд╕реБрдВрджрд░рддрд╛ рдФрд░ рднреА рдмрдврд╝ рдЬрд╛рддреА рд╣реИ,\nрдЬрдм рддреБрдореНрд╣рд╛рд░реЗ рдЪреЗрд╣рд░реЗ рдкрд░ рдореБрд╕реНрдХрд╛рди рдЖ рдЬрд╛рддреА рд╣реИ !</b>\n\n{mention}",
    "тЮа <b>рддреВ рд╣рдЬрд╛рд░ рдмрд╛рд░ рд░реБрдареЗрдЧреА рдлрд┐рд░ рднреА рддреБрдЭреЗ рдордирд╛ рд▓реВрдБрдЧрд╛,\nрддреБрдЭрд╕реЗ рдкреНрдпрд╛рд░ рдХрд┐рдпрд╛ рд╣реЗ рдХреЛрдИ рдЧреБрдирд╛рд╣ рдирд╣реА,\nрдЬреЛ рддреБрдЭрд╕реЗ рджреВрд░ рд╣реЛрдХрд░ рдЦреБрдж рдХреЛ рд╕рдЬрд╛ рджреВрдБрдЧрд╛..!!</b>\n\n{mention}",
    "тЮа <b>рд╣рдордХреЛ рджреАрд╡рд╛рдирд╛ рдХрд░ рджрд┐рдпрд╛ рдПрдХ рдирдЬрд░ рджреЗрдЦ рдХрд░\nрд╣рдо рдХреБрдЫ рднреА рди рдХрд░ рд╕рдХреЗ рдмрд╛рд░ рдмрд╛рд░ рджреЗрдЦ рдХрд░ !!</b>\n\n{mention}",
    "тЮа <b>рдЬрд╣рд╛рдБ рдЬрд╣рд╛рдБ рд▓рд┐рдЦреАрдВ рдореЗрд░реА рдХрд┐рд░рджрд╛рд░ рдореЗрдВ рдЬрд╝рд┐рд▓реНрд▓рддреЗрдВ,\nрд╡рд╣реАрдБ рд╡рд╣реАрдБ рд▓рд┐рдП рдлрд┐рд░рддреА рд╣реИ рдпреЗ рддрдХрд╝рджреАрд░ рдореБрдЭреЗред</b>\n\n{mention}",
    "тЮа <b>рдпрд╛рджреЛрдВ рдХреА рдХреАрдордд рд╡реЛ рдХреНрдпрд╛ рдЬрд╛рдиреЗ,\nрдЬреЛ рдЦреБрдж рдпрд╛рджреЛрдВ рдХреЛ рдорд┐рдЯрд╛ рджрд┐рдпрд╛ рдХрд░рддреЗ рд╣реИрдВ,\nрдпрд╛рджреЛрдВ рдХреА рдХреАрдордд рддреЛ рдЙрдирд╕реЗ рдкреБрдЫреЛ,\nрдЬреЛ рдпрд╛рджреЛрдВ рдХреЗ рд╕рд╣рд╛рд░реЗ рдЬрд┐рдВрджрдЧреА рдмрд┐рддрд╛ рджрд┐рдпрд╛ рдХрд░рддреЗ рд╣реИрдВ..!!</b>\n\n{mention}",
    "тЮа <b>рдЬрд┐рдВрджрдЧреА рдФрд░ рдХрд┐рд╕реНрдордд рд╕реЗ рдЬреНрдпрд╛рджрд╛ рд╕рд╡рд╛рд▓\nрдХрд░рдирд╛ рдлрд┐рдЬреВрд▓ рд╣реИ рднрд▓рд╛ рд╕рд╡рд╛рд▓ рдХрд┐рд╕реЗ рдкрд╕рдВрдж рд╣реЛрддреЗ рд╣реИ</b>\n\n{mention}",
    "тЮа <b>рдореБрд╕реНрдХреБрд░рд╛рдУтАжтАж.\nрдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдордиреБрд╖реНрдп рд╣реЛрдиреЗ рдХреА\nрдкрд╣рд▓реА рд╢рд░реНрдд рд╣реИ\nрдПрдХ рдкрд╢реБ рдХрднреА рдореБрд╕реНрдХреБрд░рд╛ рдирд╣реАрдВ рд╕рдХрддрд╛ рд╣реИ..!!!</b>\n\n{mention}",
    "тЮа <b>рдирд╛ рдЬрд╛рдиреЗ рдХреНрдпреЛрдВ рддреБрдЭреЗ рджреЗрдЦрдиреЗ рдХреЗ рдмрд╛рдж рднреА\nрддреБрдЭреЗ рд╣реА рджреЗрдЦрдиреЗ рдХреА рдЪрд╛рд╣рдд рд░рд╣рддреА рд╣реИ..</b>\n\n{mention}",
    "тЮа <b>рддрдбрд╝рдк рд╣реИ рдХрд╕рдХ рд╣реИ рдЦрд▓рд┐рд╢ рд╣реИ рдФрд░ рд╕рдЬрд╛ рд╣реИ\nрдХреМрди рдХрдордмрдЦреНрдд рдХрд╣рддрд╛ рд╣реИ рдХрд┐ рдЗрд╢реНрдХрд╝ рдореЗ рдордЬрд╛ рд╣реИ !!</b>\n\n{mention}",
    "тЮа <b>рдЬрд╝рд░рд╛ рд╕рд╛ рдерд╛ рдХрдорд╛рд▓ рдХрд╛,\nрддреБрдореНрд╣рд╛рд░рд╛ рдореБрд╕реНрдХреБрд░рд╛рдирд╛ рдЬреЛ рд╣рдореЗрдВ рд▓реЗ рдбреВрдмрд╛ред</b>\n\n{mention}",
    "тЮа <b>рдЦрд╝реБрдж рди рдЫреБрдкрд╛ рд╕рдХреЗ рд╡реЛ рдЕрдкрдирд╛ рдЪреЗрд╣рд░рд╛ рдирдХрд╝рд╛рдм рдореЗрдВ\nрдмреЗрд╡рдЬрд╝рд╣ рд╣рдорд╛рд░реА рдЖрдБрдЦреЛрдВ рдкреЗ рдЗрд▓реНрдЬрд╝рд╛рдо рд▓рдЧ рдЧрдпрд╛ !!</b>\n\n{mention}",
    "тЮа <b>рддреБрдореНрд╣рд╛рд░реА рдЬрд┐рд╕ рдЕрджрд╛ рдХреЛ рджреЗрдЦрдХрд░ рдЖрддреА рд╣реИ рдЬрд┐рд╕реНрдо рдореЗрдВ рдЬрд╛рди\nрдЙрд╕ рдЦреВрдмрд╕реВрд░рдд рдЕрджрд╛ рдХрд╛ рдирд╛рдо рд╣реИ рддреБрдореНрд╣рд╛рд░реА рдореБрд╕реНрдХрд╛рди !</b>\n\n{mention}",
    "тЮа <b>рдмрд░ рдмрд░ рдЦрдлрд╛ рд╣реЛ рдмрд░ рдмрд░ рдордирд╛рдпреЗ\nрдирд╛ рддреБрдо рдмрд╛рдЬ рдЖрдУ рдирд╛ рд╣рдо рдмрд╛рдЬ рдЖрдпреЗ !!</b>\n\n{mention}",
    "тЮа <b>рд╣рд░ рджрд┐рди рд╕реБрдмрд╣ рдЙрдардХрд░ рдореБрд╕реНрдХреБрд░рд╛рдирд╛,\nрд╕реВрд░рдЬ рдХреЛ рднреА рдЕрдкрдиреА рдореБрд╕реНрдХрд╛рди рджрд┐рдЦрд╛рдирд╛ред</b>\n\n{mention}",
    "тЮа <b>рд╕реБрдиреЛ рдЗрддрдиреЗ рднрд╛рд╡ рди рдЦрд╛рдпрд╛ рдХрд░реЛ\nрдЬрдм рднреА рдмреБрд▓рд╛рдУ рдСрдирд▓рд╛рдЗрди рдЖ рдЬрд╛рдпрд╛ рдХрд░реЛ</b>\n\n{mention}",
    "тЮа <b>рдЕрдЧрд░ рдореБрдЭреЗ рд╕рдордЭрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реЛ,\nрддреЛ рдмрд╕ рдЕрдкрдирд╛ рд╕рдордЭреЛ..!!</b>\n\n{mention}",
    "тЮа <b>рдХрднреА рдЖрдУ рд╣рдорд╕реЗ рдорд┐рд▓рдиреЗ рд╕рдирдо\nрдореБрдВрд╣ рджрд┐рдЦрд╛рдИ рдореЗ рдЬрд╛рди рдбрд╛рд▓ рджреЗрдВрдЧреЗред</b>\n\n{mention}",
    "тЮа <b>рдХреБрдЫ рдЗрд╕ рдЕрджрд╛ рд╕реЗ рд╣рд╛рд▓ рд╕реБрдирд╛рдирд╛ рдП рджрд┐рд▓,\nрд╡реЛ рдЦреБрдж рд╣реА рдХрд╣ рджреЗрдВ рдХрд┐рд╕реА рдХреЛ рднреВрд▓ рдЬрд╛рдирд╛ рдмреБрд░реА рдмрд╛рдд рд╣реИред</b>\n\n{mention}",
    "тЮа <b>рд╡рдЬрд╣ рдирд╣реАрдВ рдмрдирдирд╛ рд╣реИ рдореБрдЭреЗ рддреЗрд░реА рдЖрдБрдЦреЛрдВ рдХреА рдирдореА рдХрд╛\nрдореБрдЭреЗ рддреЗрд░реА рд╣реЛрдареЛрдВ рдХреА рдореБрд╕реНрдХрд░рд╛рд╣рдЯ рдкрд╕рдВрдж рд╣реИ !</b>\n\n{mention}",
    "тЮа <b>рдХреНрдпреВрдЯ рд╕рд╛ рдлреЗрд╕ рдореЗрд░рд╛ рдмрдбрд╝рд╛ рд╣реА рдХрд┐рд▓рд░ рд╣реИ \nрддреЗрд░реЗ рдЬреИрд╕реЗ рд▓рдбрд╝рдХреЗ рдЗрд╕ рд╢рд╣рдЬрд╛рджреА рдХреЗ рд╕рд╛рдордиреЗ рдЪрд┐рд▓реНрд▓рд░ рд╣реИ !!</b>\n\n{mention}",
    "тЮа <b>рдкрд╛рд╕ рдЖрдУ рдПрдХ рдЕрд▓реНрдлрд╝рд╛рдЬрд╝ рд╕реБрди рд▓реЛ\nрдкреНрдпрд╛рд░ рд╣реИ рддреБрдорд╕реЗ рдмреЗрдкрдирд╛рд╣ рдмрд╛рдд рд╕реБрди рд▓реЛ..</b>\n\n{mention}",
    "тЮа <b>рдЧрдо рдЖрдП, рддреЛ\nрдЙрд╕реЗ рдореБрд╕реНрдХрд╛рди рд╕реЗ рдЫреБрдкрд╛ рджреЗрдирд╛,\nрд░реЛрдЬ рдпреВрдВ рд╣реА рдмреЗрд╡рд╣рдЬ рдореБрд╕реНрдХреБрд░рд╛ рджреЗрдирд╛ред</b>\n\n{mention}",
    "тЮа <b>рдЕрдВрдЬрд╛рдо рдЪрд╛рд╣реЗ рдЬреЛ рднреА рд╣реЛ рдкрд░\nрдЦреЗрд▓ рддреЛ рдЕрдм рдмреЬрд╛ рд╣реА рдЦреЗрд▓реЗрдВрдЧреЗ</b>\n\n{mention}",
    "тЮа <b>рдореЗрд░рд╛ рд╕рдлрд░ рдЕрдЪреНрдЫрд╛ рд╣реИ,\nрдордЧрд░ рдЙрд╕рд╕реЗ рднреА рдЕрдЪреНрдЫрд╛ рдореЗрд░рд╛ рд╣рдорд╕рдлрд╝рд░ рд╣реИ..!!</b>\n\n{mention}",
    "тЮа <b>рд╣рдо рдЕрдЧрд░ рдЕрдкрдиреА рддрд╕реНрд╡реАрд░ рдмрдирд╛рдиреЗ рд▓рдЧ рдЬрд╛рдПрдВ рддреЛ\nрд╕рд┐рд░реНрдлрд╝ рдЦреБрдж рдХреА рдЖрдБрдЦреЛрдВ рдФрд░ рдЬреБрд▓реНрдлреЛрдВ рдореЗ рдХрдИ рдЬрд╝рдорд╛рдиреЗ рд▓рдЧ рдЬрд╛рдПрдВред</b>\n\n{mention}",
    "тЮа <b>рджреБрдирд┐рдпрд╛ рдмрд╣реБрдд рд╣рд╕реАрди рд╣реИ рдЬрд╝рд░рд╛ рдореБрд╕реНрдХреБрд░рд╛ рдХреЗ рджреЗрдЦреЛред</b>\n\n{mention}",
    "тЮа <b>рд╣рд░ рд╡реЛ рд╢рд╛рдпрд░реА рдЬрд┐рд╕рдореЗрдВ рд╣рдордиреЗ рддреБрдЭреЗ рдорд╣рдмреВрдм рд▓рд┐рдЦрд╛\nрдЬрдорд╛рдиреЗ рдиреЗ рд╕реБрдирд╛ рдФрд░ рдХрд╣рд╛ рд╡рд╛рд╣ рдХреНрдпрд╛ рдЦреВрдм рд▓рд┐рдЦрд╛ !!</b>\n\n{mention}",
    "тЮа <b>рдЦреБрд╢реА рдХрд╛ рдХреЛрдИ рдореЛрд▓ рдирд╣реАрдВ рд╣реЛрддрд╛\nрдпреЗ рддреЛ рд╣реЛрдареЛрдВ рдХреА рдЧреБрд▓рд╛рдо рд╣реЛрддреА рд╣реИ</b>\n\n{mention}",
    "тЮа <b>рдЬрд╝рд░рд╛ рд╕реА рдлреИрд▓реА рд╕реНрдпрд╛рд╣реА рд╣реИ рдЬрд╝рд░рд╛ рд╕реЗ рдмрд┐рдЦрд░реЗ рд╣реБрдП рдЧрд╝рдо рднреА рд╣реИрдВ \nрд╢рд╛рдпрд░реА рдкрд░ рдХреЗрд╡рд▓ рд▓рд╝рдлреНрдЬрд╝ рдирд╣реАрдВ рдЫреБрдкреЗ рд╣реБрдП рдХреБрдЫ рд╣рдо рднреА рд╣реИрдВ !!</b>\n\n{mention}",
    "тЮа <b>рдЕрдЧрд░ рдорд┐рд▓рддреА рдореБрдЭрдХреЛ рджреЛ рджрд┐рди рдХреА рдмрд╛рджрд╢рд╛рд╣реА рд╕рд╛рд╣реЗрдм,\nрддреЛ рдореЗрд░реА рд╕рд┐рдпрд╛рд╕рдд рдореЗрдВ рддреЗрд░реА рддрд╕реНрд╡реАрд░ рдХреЗ рд╕рд┐рдХреНрдХреЗ рдЪрд▓рддреЗред</b>\n\n{mention}",
    "тЮа <b>рдЧрд┐рд░ рдХрд░ рдЙрдардирд╛ рд╕реАрдЦрдирд╛ рд╣реИ рддреБрдореНрд╣реЗрдВ,\nрдореБрд╕реНрдХреБрд░рд╛ рдХрд░ рдирд╕реАрдм рд▓рд┐рдЦрдирд╛ рд╣реИ рддреБрдореНрд╣реЗрдВред</b>\n\n{mention}",
    "тЮа <b>рдЬрдЦреНрдо рдмрд╣реБрдд рдорд┐рд▓реЗ рдкрд░ рд╣рдБрд╕рддреЗ рд░рд╣реЗ рд╣рдо\nрдЦреНрд╡рд╛рд╣рд┐рд╢ рдкреВрд░реА рдХрд░рдиреЗ рдХреЛ рдорд░рддреЗ рд░рд╣реЗ рд╣рдо</b>\n\n{mention}",
    "тЮа <b>рдзреЬрдХрдиреЛрдВ рдХреЛ рдерд╛рдо рдХрд░ рд░рдЦрдирд╛,\nрдХреНрдпреВрдВрдХрд┐ рдЕрдЧрд░ рд╣рдо рдкрд╛рд╕ рдЖ рдЧрдП рддреЛ рддреБрдо рдЦреБрдж рдХреЛ рднреБрд▓рд╛ рджреЛрдЧреЗ..!!</b>\n\n{mention}",
    "тЮа <b>рддрд▓рд╛рд╢рд┐рдП рдЦреБрдж рдХреЛ рдХреБрдЫ рдЗрд╕ рддрд░рд╣,\nрдкрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХреЛ рдирд╛рдЬрд╝ рдФрд░ рдЦреЛрдиреЗ рд╡рд╛рд▓реЗ рдХреЛред</b>\n\n{mention}",
    "тЮа <b>рдорд╣реЛрдмреНрдмрдд рдХрд╛ рдкрд░рд┐рдВрджрд╛ рд╣реБ рдХрд┐рд╕реА рд╕реЗ рдмреИрд░ рдирд╣реА рд░рдЦрддрд╛\nрдЬрд╣рд╛рдБ рдирдлрд░рддреЗ рдмрд┐рдЦрд░реА рд╣реЛ рд╡рд╣рд╛рдБ рдореИрдВ рдкреИрд░ рдирд╣реА рд░рдЦрддрд╛ !!</b>\n\n{mention}",
    "тЮа <b>рджрд┐рд▓ рдХреА рдЦрд╛рдореЛрд╢реА рд╕реЗ рд╕рд╛рдВрд╕реЛрдВ рдХреЗ рдард╣рд░ рдЬрд╛рдиреЗ рддрдХ\nрдореБрдЭреЗ рдпрд╛рдж рд░рд╣реЗрдЧрд╛ рд╡реЛ рдЕрдЬрдирдмреА рдореЗрд░реЗ рдорд░ рдЬрд╛рдиреЗ рддрдХ..</b>\n\n{mention}",
    "тЮа <b>рд▓реЗрдХрд░ рдХреЗ рдореЗрд░рд╛ рдирд╛рдо рдореБрдЭреЗ рдХреЛрд╕рддрд╛ рддреЛ рд╣реИ\nрдирдлрд░рдд рд╣реА рд╕рд╣реА рдкрд░ рдореБрдЭреЗ рд╕реЛрдЪрддрд╛ рддреЛ рд╣реИ !!</b>\n\n{mention}",
    "тЮа <b>рдереЛрдбрд╝реЗ рдЧреБрд╕реНрд╕реЗ рд╡рд╛рд▓реЗ рдереЛрдбрд╝реЗ рдирд╛рджрд╛рди рд╣реЛ рддреБрдо\nрдордЧрд░ рдЬреИрд╕реЗ рднреА рд╣реЛ рдореЗрд░реА рдЬрд╛рди рд╣реЛ рддреБрдо..</b>\n\n{mention}",
    "тЮа <b>рд╣рд░ рджрд░реНрдж рдХрд╛ рдЗрд▓рд╛рдЬ\nрджрд╡рд╛ рдЦрд╛рдиреЗ рдореЗрдВ рдирд╣реАрдВ рдорд┐рд▓рддрд╛ рд╕рд╛рд╣рдм,\nрдХреБрдЫ рдорд░реНрдЬрд╝ рддреЛ рдореБрд╕реНрдХреБрд░рд╛рд╣рдЯ рдХреЗ\nрдореЛрд╣рддрд╛рдЬрд╝ рд╣реЛрддреЗ рд╣реИрдВред</b>\n\n{mention}",
    "тЮа <b>рддреБрдо рдереЗ, рддреБрдо рд╣реЛ, рдФрд░ рддреБрдо рд╣реА рд░рд╣реЛрдЧреЗ,\nрдХреБрдЫ рдЗрд╕ рддрд░рд╣ рдХреА рдореЛрд╣рдмреНрдмрдд рд╣реИ рддреБрдорд╕реЗ..!!</b>\n\n{mention}",
    "тЮа <b>рдореБрд╕реНрдХреБрд░рд╛ рдХреЗ рдЬреЛ рд╣рд░ рдЧрдо рднреБрд▓рд╛ рджреЗрддреЗ рд╣реИрдВ,\nрдИрд╢реНрд╡рд░ рднреА рдЙрдирдХреЛ рдЬреАрдиреЗ рдХреА\nрдХрдИ рд░рд╛рд╣ рджрд┐рдЦрд╛ рджреЗрддреЗ рд╣реИрдВред</b>\n\n{mention}",
    "тЮа <b>рдХреБрдЫ рдЗрд╕ рдЕрджрд╛ рд╕реЗ рд╣рд╛рд▓ рд╕реБрдирд╛рдирд╛ рдП рджрд┐рд▓\nрд╡реЛ рдЦреБрдж рд╣реА рдХрд╣ рджреЗрдВ рдХрд┐рд╕реА рдХреЛ рднреВрд▓ рдЬрд╛рдирд╛ рдмреБрд░реА рдмрд╛рдд рд╣реИ..</b>\n\n{mention}",
    "тЮа <b>рджрд╛рд╡реЗ рдореЛрд╣рдмреНрдмрдд рдХреЗ рдореБрдЭреЗ рдирд╣реАрдВ рдЖрддреЗ рдпрд╛рд░реЛ !!\nрдПрдХ рдЬрд╛рди рд╣реИ рдЬрдмрджрд┐рд▓ рдЪрд╛рд╣реЗ рдорд╛рдБрдЧ рд▓реЗрдирд╛ !!</b>\n\n{mention}",
    "тЮа <b>рдореБрдЭреЗ рд░рд┐рд╢реНрддреЛ рдХреА рд▓рдореНрдмреА рдХрддрд╛рд░реЛ рд╕реЗ рдорддрд▓рдм рдирд╣реА,\nрдР рджреЛрд╕реНрдд рдХреЛрдИ рджрд┐рд▓ рд╕реЗ рд╣реЛ рдореЗрд░рд╛ рддреЛ рдмрд╕ рдЗрдХ рд╢рдХреНрд╕ рд╣реА рдХрд╛рдлреА рд╣реИ.</b>\n\n{mention}",
    "тЮа <b>рдХреЛрдг рдХрд╣рддрд╛ рд╣реИ рдХреА рджреЛрд╕реНрддреА рдмрд░рд╛рдмрд░ рд╡рд╛рд▓реЛрдВ рдореЗрдВ рд╣реЛрддреА рд╣реИ\nрд╕реБрдмрд╣ рдХреЗ рдЧрдо рд╢рд╛рдо рдХреЛ рдкреБрд░рд╛рдиреЗ рд▓рдЧрддреЗ рд╣реИ</b>\n\n{mention}",
    "тЮа <b>рдЬреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдорд┐рд▓реЗ рд╡реЛ рд╣реИрдВ.. рдзреЛрдЦрд╛\nрдЬреЛ рджрд┐рд▓ рд╕реЗ рдорд┐рд▓реЗ рд╡реЛ рд╣реИрдВ тАжрдкреНрдпрд╛рд░\nрдЬреЛ рдореБрд╢реНрдХрд┐рд▓ рд╕реЗ рдорд┐рд▓реЗ рд╡реЛ рд╣реИрдВ тАжрдЗрдЬреНрдЬрд╝рдд рдордЧрд░\nрдЬреЛ рдирд╕реАрдм рд╕реЗ рдорд┐рд▓реЗ рд╡реЛ рд╣реИрдВ тАжрджреЛрд╕реНрдд ред</b>\n\n{mention}",
    "тЮа <b>рдХреМрди рдХрд╣рддрд╛ рд╣реИ рдХреА рджреЛрд╕реНрддреА рдпрд╛рд░реА рдмрд░реНрдмрд╛рдж рдХрд░рддреА рд╣реИ\nрдХреЛрдИ рдирд┐рднрд╛рдиреЗ рд╡рд╛рд▓рд╛ рд╣реЛ рддреЛ рджреБрдирд┐рдпрд╛ рдпрд╛рдж рдХрд░рддреА рд╣реИ !</b>\n\n{mention}",
    "тЮа <b>рддреВ рдЬреИрд╕рд╛ рдпрд╛рд░ рдХрд╣рд╛рдБ, рдХрд╣рд╛рдБ рдРрд╕рд╛ рдпрд╛рд░рд╛рдирд╛,\nрдпрд╛рдж рдХрд░реЗрдЧреА рджреБрдирд┐рдпрд╛рдВ, рддреЗрд░рд╛ рдореЗрд░рд╛ рдЕрдлрд╕рд╛рдирд╛ред</b>\n\n{mention}",
    "тЮа <b>рдЬрд╝рд┐рдВрджрдЧреА рдореЗрдВ рджреЛрд╕реНрддреА рдирд╣реАрдВ,\nрджреЛрд╕реНрддреА рдореЗрдВ рдЬрд╝рд┐рдВрджрдЧреА рд╣реЛрддреА рд╣реИуАВ</b>\n\n{mention}"
]

# Good Evening messages
GE_MESSAGES = [
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в, с┤Лс┤Зsс┤З ╩Ьс┤П с┤Кс┤А╔┤с┤Зс┤Нс┤А╔┤ ЁЯМЖ</b>\n\n{mention}",
    "тЮа <b>╔вс┤З, s╩Ьс┤Ас┤Н ╩Ьс┤П ╔в╩П╔к с┤Ы╩Ьс┤Пс┤Ес┤А с┤Ас┤А╩Ас┤Ас┤Н с┤Лс┤А╩А ╩Яс┤П ЁЯМЗ</b>\n\n{mention}",
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в ╩Щс┤А╩Щ╩П, с┤Д╩Ьс┤А╔к с┤Шс┤Зс┤З╔┤с┤З с┤Д╩Ьс┤А╩Яс┤П тШХ</b>\n\n{mention}",
    "тЮа <b>с┤Зс┤ас┤З╔┤╔к╔┤╔в с┤бс┤А╩Яс┤Л с┤Шс┤З с┤Д╩Ьс┤А╩Яс┤З╔┤╔вс┤З, с┤Ы╩Ьс┤Пс┤Ес┤А ╥У╩Ас┤Зs╩Ь ╩Ьс┤П╔┤╔вс┤З ЁЯМ│</b>\n\n{mention}",
    "тЮа <b>╔вс┤З, с┤Л╩Пс┤А с┤Лс┤А╩А ╩А╩Ьс┤З ╩Ьс┤П s╩Ьс┤Ас┤Н с┤Лс┤П? ЁЯМГ</b>\n\n{mention}",
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в ╩Ьс┤Ас┤ас┤З с┤А ╔в╩Ас┤Зс┤Ас┤Ы с┤Зс┤ас┤З╔┤╔к╔┤╔в ЁЯМД</b>\n\n{mention}",
    "тЮа <b>s╩Ьс┤Ас┤Н с┤Л╔к с┤Д╩Ьс┤А╔к с┤Лс┤А с┤Нс┤вс┤А ╩Ь╔к с┤Лс┤Ьс┤Д╩Ь с┤Ас┤Ь╩А ╩Ьс┤А╔к тШХ</b>\n\n{mention}",
    "тЮа <b>╔вс┤З с┤Ес┤Зс┤А╩А, с┤Лс┤А╔кsс┤З ╩Ьс┤П с┤Ас┤Ас┤К ЁЯТЦ</b>\n\n{mention}",
    "тЮа <b>с┤Зс┤ас┤З╔┤╔к╔┤╔в с┤Ы╔кс┤Нс┤З ╔кs ╩Ас┤З╩Яс┤Аx с┤Ы╔кс┤Нс┤З, с┤З╔┤с┤Кс┤П╩П ЁЯО╢</b>\n\n{mention}",
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в с┤Н╩П ╥У╩А╔кс┤З╔┤с┤Е, ╩Ьс┤Пс┤б с┤бс┤Аs ╩Пс┤Пс┤Ь╩А с┤Ес┤А╩П? ЁЯМЯ</b>\n\n{mention}",
    "тЮа <b>sс┤Ь╔┤sс┤Зс┤Ы с┤а╔кс┤Зс┤б с┤З╔┤с┤Кс┤П╩П с┤Лс┤А╩А ╩А╩Ьс┤З ╩Ьс┤П с┤Л╩Пс┤А? ЁЯМЕ</b>\n\n{mention}",
    "тЮа <b>╔вс┤З ╩Щс┤А╩Щ╩П, с┤Е╔к╔┤╔┤с┤З╩А с┤Ы╔кс┤Нс┤З с┤Лс┤А ╩Ьс┤А╔к ЁЯН╜я╕П</b>\n\n{mention}",
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в с┤Ыс┤П с┤А╩Я╩Я с┤Н╩П ╩Яс┤Пс┤ас┤З╩Я╩П ╥У╩А╔кс┤З╔┤с┤Еs ЁЯМ╕</b>\n\n{mention}",
    "тЮа <b>с┤Зс┤ас┤З╔┤╔к╔┤╔в ╩Щ╩Ас┤Зс┤Зс┤вс┤З ╔кs sс┤П ╩Ас┤З╥У╩Ас┤Зs╩Ь╔к╔┤╔в, ╔кs╔┤'с┤Ы ╔кс┤Ы? ЁЯМмя╕П</b>\n\n{mention}",
    "тЮа <b>╔вс┤З с┤Кс┤А╔┤с┤Зс┤Нс┤А╔┤, с┤Е╔к╔┤ ╩Щ╩Ьс┤А╩А с┤Лс┤А с┤Лс┤Ас┤Н с┤Л╩Ьс┤Ас┤Ыс┤Н ╩Ьс┤Ьс┤А? ЁЯТ╝</b>\n\n{mention}",
    "тЮа <b>╔вс┤Пс┤Пс┤Е с┤Зс┤ас┤З╔┤╔к╔┤╔в, ╩Яс┤Зс┤Ы's с┤З╔┤с┤Кс┤П╩П с┤Ы╩Ьс┤З с┤Зс┤ас┤З╔┤╔к╔┤╔в с┤Ыс┤П╔вс┤Зс┤Ы╩Ьс┤З╩А ЁЯМЖ</b>\n\n{mention}"
]

async def get_chat_users(chat_id):
    """Get all valid users from a chat (excluding bots and deleted accounts)"""
    users = []
    async for member in app.get_chat_members(chat_id):
        if member.user.is_bot or member.user.is_deleted:
            continue
        users.append(member.user)
    return users

# Generic tagging function - Modified to tag one user at a time
async def tag_users(chat_id, messages, tag_type):
    """Generic function to tag users one by one with specified messages"""
    users = await get_chat_users(chat_id)
    
    for user in users:
        # Check if tagging was stopped
        if chat_id not in active_chats:
            break
            
        # Create bold mention for single user
        mention = f"<b><a href='tg://user?id={user.id}'>{user.first_name}</a></b>"
        msg = random.choice(messages).format(mention=mention)
        
        # HTML formatting will be applied automatically due to default setting
        await app.send_message(chat_id, msg, disable_web_page_preview=True)
        await asyncio.sleep(3)  # 3 second delay between each user
    
    # Clean up and send completion message
    active_chats.pop(chat_id, None)
    await app.send_message(chat_id, f"тЬЕ <b>{tag_type} Tс┤А╔в╔в╔к╔┤╔в Dс┤П╔┤с┤З!</b>")

# =================== SHAYRI TAG COMMANDS ===================

@app.on_message(filters.command(["shayritag", "shayaritag"]) & filters.group)
@adminsOnly("can_delete_messages")
async def shayritag(_, message: Message):
    """Start Shayri tagging"""
    chat_id = message.chat.id
    
    if chat_id in active_chats:
        return await message.reply("тЪая╕П <b>S╩Ьс┤А╩П╩А╔к Tс┤А╔в╔в╔к╔┤╔в A╩Я╩Ас┤Зс┤Ас┤Е╩П Rс┤Ь╔┤╔┤╔к╔┤╔в.</b>")
    
    active_chats[chat_id] = True
    await message.reply("ЁЯУЬ <b>S╩Ьс┤А╩П╩А╔к Tс┤А╔в╔в╔к╔┤╔в Sс┤Ыс┤А╩Ас┤Ыс┤Зс┤Е...</b>")
    
    await tag_users(chat_id, SHAYRI_MESSAGES, "S╩Ьс┤А╩П╩А╔к")

@app.on_message(filters.command(["shayristop", "shayaristopping"]) & filters.group)
@adminsOnly("can_delete_messages")
async def shayristop(_, message: Message):
    """Stop Shayri tagging"""
    chat_id = message.chat.id
    
    if chat_id in active_chats:
        del active_chats[chat_id]
        await message.reply("ЁЯЫС <b>S╩Ьс┤А╩П╩А╔к Tс┤А╔в╔в╔к╔┤╔в Sс┤Ыс┤Пс┤Шс┤Шс┤Зс┤Е.</b>")
    else:
        await message.reply("тЭМ <b>Nс┤Пс┤Ы╩Ь╔к╔┤╔в Rс┤Ь╔┤╔┤╔к╔┤╔в.</b>")

# =================== GOOD EVENING COMMANDS ===================

@app.on_message(filters.command("getag") & filters.group)
@adminsOnly("can_delete_messages")
async def getag(_, message: Message):
    """Start Good Evening tagging"""
    chat_id = message.chat.id
    
    if chat_id in active_chats:
        return await message.reply("тЪая╕П <b>Eс┤ас┤З╔┤╔к╔┤╔в Tс┤А╔в╔в╔к╔┤╔в A╩Я╩Ас┤Зс┤Ас┤Е╩П Rс┤Ь╔┤╔┤╔к╔┤╔в.</b>")
    
    active_chats[chat_id] = True
    await message.reply("ЁЯМЖ <b>Eс┤ас┤З╔┤╔к╔┤╔в Tс┤А╔в╔в╔к╔┤╔в Sс┤Ыс┤А╩Ас┤Ыс┤Зс┤Е...</b>")
    
    await tag_users(chat_id, GE_MESSAGES, "Gс┤Пс┤Пс┤Е Eс┤ас┤З╔┤╔к╔┤╔в")

@app.on_message(filters.command("gestop") & filters.group)
@adminsOnly("can_delete_messages")
async def gestop(_, message: Message):
    """Stop Good Evening tagging"""
    chat_id = message.chat.id
    
    if chat_id in active_chats:
        del active_chats[chat_id]
        await message.reply("ЁЯЫС <b>Eс┤ас┤З╔┤╔к╔┤╔в Tс┤А╔в╔в╔к╔┤╔в Sс┤Ыс┤Пс┤Шс┤Шс┤Зс┤Е.</b>")
    else:
        await message.reply("тЭМ <b>Nс┤Пс┤Ы╩Ь╔к╔┤╔в Rс┤Ь╔┤╔┤╔к╔┤╔в.</b>")

# ===========================================
# ┬йя╕П 2025 Nand Yaduwanshi (aka @NoxxOP)
# ЁЯФЧ GitHub : https://github.com/NoxxOP/ShrutiMusic
# ЁЯУв Telegram Channel : https://t.me/ShrutiBots
# ===========================================
